/*!
 * Zoho LMS Application - User Interface js file
 * Copyright 1996-2022 Zoho Corporation (https://zoho.com)
 * Test submitted by - Mohit Pandey (https://www.linkedin.com/in/mohitpandey155/)
 */
$(".sidebar-toggle-btn").on("click", function () {
  $(this).addClass("active");
  $(".main-menu").addClass("active");
  $(".body-overlay").addClass("opened");
});
$(".close").on("click", function () {
  $(this).parent().removeClass("active");
  $(".body-overlay").removeClass("opened");
  $(".sidebar-toggle-btn").removeClass("active");
});
$(".body-overlay").on("click", function () {
  $(this).removeClass("opened");
  $(".main-menu").removeClass("active");
  $(".sidebar-toggle-btn").removeClass("active");
});
$(document).ready(function () {
  $(".play-btn").click(function () {
    jQuery('iframe[src*="https://www.youtube.com/embed/"]').addClass(
      "youtube-iframe"
    );
    $(".pop-outer").fadeIn("slow");
  });
  $(".modal-close").click(function () {
    $(".pop-outer").fadeOut("slow");
    $(".youtube-iframe").each(function (index) {
      $(this).attr("src", $(this).attr("src"));
      return false;
    });
  });
  $(".pop-backdrop").click(function () {
    $(".pop-outer").fadeOut("slow");
    $(".youtube-iframe").each(function (index) {
      $(this).attr("src", $(this).attr("src"));
      return false;
    });
  });
});

$(".course-tab-content").hide();
$(".course-tab-content:first").show();

$(".course-tabs li").click(function () {
  $(".course-tab-content").hide();
  var activeTab = $(this).attr("rel");
  $("#" + activeTab).fadeIn();

  $(".course-tabs li").removeClass("active");
  $(this).addClass("active");

  $(".tab-drawer-heading").removeClass("d-active");
  $(".tab-drawer-heading[rel^='" + activeTab + "']").addClass("d-active");
});

$(".tab-drawer-heading").click(function () {
  $(".course-tab-content").hide();
  var d_activeTab = $(this).attr("rel");
  $("#" + d_activeTab).fadeIn();

  $(".tab-drawer-heading").removeClass("d-active");
  $(this).addClass("d-active");

  $(".course-tabs li").removeClass("active");
  $(".course-tabs li[rel^='" + d_activeTab + "']").addClass("active");
});

$(document).ready(function () {
  $(".accordion-list > li > .acc-body").not(".pre-on").hide();

  $(".accordion-list > li").click(function () {
    if ($(this).hasClass("active")) {
      $(this).removeClass("active").find(".acc-body").slideUp();
    } else {
      $(".accordion-list > li.active .acc-body").slideUp();
      $(".accordion-list > li.active").removeClass("active");
      $(this).addClass("active").find(".acc-body").slideDown();
    }
    return false;
  });
});

$(".course-tabs li[rel=tab3]").click(function () {
  $(".rate-star-anim").addClass("trigger");
  $(".single-progress").addClass("trigger");
  setTimeout(function () {
    $(".rate-star-anim").removeClass("trigger");
  }, 1400);
  setTimeout(function () {
    $(".single-progress").removeClass("trigger");
  }, 1600);
});

$(".course-tabs li[rel=tab4]").click(function () {
  $(".count").each(function () {
    $(this)
      .prop("Counter", 0)
      .animate(
        {
          Counter: $(this).text(),
        },
        {
          duration: 2000,
          easing: "swing",
          step: function (now) {
            $(this).text(Math.ceil(now));
          },
        }
      );
  });
});

var swiper = new Swiper(".newSwiper", {
  slidesPerView: 1,
  spaceBetween: 10,
  breakpoints: {
    767: {
      slidesPerView: 2,
      spaceBetween: 30,
    },
  },
  pagination: {
    el: ".swiper-pagination",
    clickable: true,
  },  
});

window.onscroll = function() {myFunction()};

var enrollBar = document.getElementById("enrollTrigger");
var sticky = enrollBar.offsetTop;

function myFunction() {
  if (window.pageYOffset > sticky) {
    $('body').addClass('enroll-open');
  } else {
    $('body').removeClass('enroll-open');
  }
}
